/**
 * Copyright 2018 The AMP HTML Authors. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS-IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

amp-story[scroll] {
  overflow-y: auto !important;
}

[scroll] amp-story-page[distance] {
  bottom: auto !important;
  contain: none !important;
  height: 100vh !important;
  overflow: visible !important;
  position: relative !important;
  top: auto !important;
  transform: none !important;
}

/**
 * Only the first slide has its height equals to the viewport height.
 * The following slides are twice higher with a negative margin-top
 * so they can be overlapped by the previous slide.
 * The z-index for each slide is set in Javascript. Each slide has
 * a z-index superior to the following one.
 */
[scroll] amp-story-page[distance] + amp-story-page[distance] {
  height: 200vh !important;
  margin-top: -100vh !important;
}

[scroll] amp-story-page amp-story-grid-layer:nth-child(1)Â {
  background: black !important;
  bottom: auto !important;
  height: 100vh !important;
  left: 0 !important;
  padding:0 !important;
  position: sticky !important;
  right: auto !important;
  top: 0 !important;
  width: 100% !important;
}

[scroll] amp-story-page .i-amphtml-story-grid-template-fill > amp-video video {
  object-fit: contain !important;
}
